# PBI_RFM

<br> https://vc.ru/u/1260920-guzel/473782-rfm-v-power-bi

При большом объеме данных (нескольких млн.строк) удобнее и быстрее производить такой анализ при помощи Python, в т.ч. с возможностью последующей визуализации итоговой сводной сегментации в Power BI. Но бывают случаи, когда компании настаивают на использовании в работе определенных офисных приложений, в основном, это ПО MS Microsoft. В этом случае можно провести анализ в Excel, но если датасет включает более 20 000 тыс.строк, такая задача займет значительное количество времени (Excel, скорее всего, подвиснет на час другой) и совершения покупок клиентом в рассматриваемом периоде сил. 
Тут на помощь придет Power BI, который кроме прочего сохранит алгоритм обработки данных и в дальнейшем можно будет получать актуальный анализ, просто обновив исходник.
Непосредственно про RFM-Анализ написано много статей, поэтому в этой я сосредоточусь на практике в разрезе PBI. 
Вкратце напомню.
RFM-анализ – анализ целью которого является сегментация клиентов по таким показателям как Давность покупки, Частота покупок, Сумма покупок, и выявлять группу клиентов, приносящих наибольшую выручку. По итогам анализа для каждого сегмента разработать план действий по удержанию, развитию, поддержке клиентов. Возможно, сократить ресурсы на коммуникацию с клиентами, попавшими в сегмент «Потерянных» (группа 333).
Перед проведением анализа стоит рассмотреть свою клиентскую базу в разрезе страт:  есть ли  необходимость в разбивке? какая детализация рациональна? и т.д. Например, если у вас есть дифференциация по клиентам, например, B2C, B2B, то анализ для них нужно проводить по отдельности. Также при сильной диверсификации услуг (как то: продажа хозтоваров на онлайн-платформе, и продажа недвижимости на ней же) клиентов при анализе лучше также разделить. 
Основные показатели, которые мы будем рассчитывать:
**R (Recency)** – давность последней покупки. Сколько дней (недель, месяцев, т.д.) прошло с  
                         момента последней покупки. 
**F (Frequency)** – частота совершения покупок клиентом в рассматриваемом периоде. Сколько      
                           покупок суммарно было совершено за рассматриваемый период.
**M (Monetary)** – сумма покупок клиентом в рассматриваемом периоде. На какую сумму всего 
                          клиент купил в рассматриваемом периоде.
Для проведения анализа вам потребуется следующая информация:
- клиенты (ID, др.идентификатор. Важно – он должен быть уникальным в разрезе выгрузки из БД);
- дата последней покупки;
- сумма покупок или выгрузка покупок по выбранной вами детализации временнОго периода – дни, недели, месяцы (ниже мы рассмотрим вариант с помесячными данными покупок); 
- количество покупок по выбранной вами детализации временнОго периода – дни, недели, месяцы (в этой работе вариант с помесячными данными покупок: один месяц с суммой покупки = купили 1 раз).
